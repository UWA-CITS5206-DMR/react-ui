# 数字医疗记录仿真平台 (Digital Medical Records Simulation Platform)

## 平台概述 (Platform Overview)

本平台是一个全面的基于网络的数字医疗记录仿真系统，专为医疗教育设计。该平台提供沉浸式学习环境，让学生在模拟的急诊科场景中练习临床决策制定，支持四种不同的用户角色，具备完整的权限管理和数据版本控制功能。

### 核心特性 (Core Features)

- **四角色权限系统**: 系统管理员、仿真协调员、教师、学生
- **数据版本控制**: 支持分组数据版本管理和权限分配
- **文档管理**: 上传、调度发布和定时释放医疗文档
- **实时仿真控制**: 动态生命体征、实验室结果和患者状态管理
- **审计跟踪**: 完整的系统活动记录和监控
- **分组协作**: 支持多组同时进行的仿真场景

## 用户角色详解 (User Roles)

### 1. 系统管理员 (System Administrator)
**登录凭据**: admin / password

**主要职责**:
- 用户账户管理：创建、修改、删除用户账户
- 数据版本控制：管理不同组别的患者数据版本
- 分组账户管理：创建和管理分组账户权限
- 系统权限设置：配置各角色的访问权限
- 审计日志监控：查看系统活动记录和安全审计

**功能模块**:
- **用户管理**: 
  - 创建新用户账户（学生、教师、协调员）
  - 修改用户信息和角色权限
  - 停用或删除用户账户
- **数据版本管理**:
  - 创建针对特定组别的数据版本
  - 分配患者数据到不同组别
  - 管理数据版本的生命周期
- **分组账户**:
  - 创建分组账户
  - 设置分组权限和访问控制
  - 管理分组的激活状态
- **审计跟踪**:
  - 查看所有系统操作记录
  - 按实体类型和时间筛选日志
  - 监控安全相关活动

### 2. 仿真协调员 (Simulation Coordinator)
**登录凭据**: coordinator / password

**主要职责**:
- 文档上传管理：上传医疗文档和资料
- 发布调度：安排文档的定时发布
- 仿真时间线：管理仿真周期和活动安排
- 活动监控：跟踪仿真进度和参与情况

**功能模块**:
- **文档管理**:
  - 上传各类医疗文档（影像、实验室报告、入院记录等）
  - 按患者和类别组织文档
  - 删除和修改文档信息
- **发布调度**:
  - 创建文档发布计划
  - 设置发布时间和目标组别
  - 手动触发文档发布
  - 取消已计划的发布
- **仿真时间线**:
  - 创建和管理仿真周期
  - 设置仿真周的开始和结束时间
  - 激活当前仿真周
  - 跟踪仿真进度
- **活动监控**:
  - 监控学生参与情况
  - 查看文档访问记录
  - 统计仿真活动数据

### 3. 教师 (Instructor)
**登录凭据**: instructor / password

**主要职责**:
- 实时场景控制：动态调整患者状态和生命体征
- 实验室结果管理：控制实验室结果的发布时间
- 学生监控：观察学生的临床决策过程
- 仿真指导：提供实时指导和反馈

**功能特性**:
- **患者状态控制**:
  - 实时修改生命体征（心率、血压、体温等）
  - 调整患者意识状态和症状
  - 模拟病情变化和紧急情况
- **实验室管理**:
  - 控制实验室结果的发布时机
  - 修改实验室数值和状态
  - 模拟实验室报告延迟
- **学生互动**:
  - 观察学生的医嘱和SOAP笔记
  - 提供实时反馈和指导
  - 监控学生的临床决策过程

### 4. 学生 (Student)
**登录凭据**: student / password

**主要职责**:
- 患者评估：查看患者信息和生命体征
- 临床文档：编写SOAP笔记和临床记录
- 医嘱下达：开具检查、治疗和用药医嘱
- 病例学习：分析病例和制定治疗计划

**学习功能**:
- **患者信息查看**:
  - 查看患者基本信息和病史
  - 监控实时生命体征
  - 查看可用的实验室结果
- **临床文档**:
  - 编写SOAP格式的临床笔记
  - 记录患者评估和治疗计划
  - 更新病程记录
- **医嘱管理**:
  - 开具药物医嘱
  - 安排检查和治疗
  - 跟踪医嘱执行状态

## 技术架构 (Technical Architecture)

### 前端技术栈 (Frontend Stack)
- **React 18**: 现代化用户界面框架
- **TypeScript**: 类型安全的JavaScript开发
- **Tailwind CSS**: 实用优先的CSS框架
- **Radix UI + shadcn/ui**: 可访问的组件库
- **TanStack React Query**: 服务器状态管理
- **React Hook Form**: 表单处理和验证
- **Wouter**: 轻量级路由库
- **Vite**: 快速构建工具

### 后端技术栈 (Backend Stack)
- **Node.js + Express**: 服务器运行时和Web框架
- **TypeScript**: 类型安全的服务器开发
- **PostgreSQL**: 关系型数据库
- **Drizzle ORM**: 类型安全的数据库访问层
- **Session管理**: 基于会话的身份验证

### 数据库设计 (Database Schema)

#### 核心数据表 (Core Tables)
- **users**: 用户账户信息
- **sessions**: 仿真会话管理
- **patients**: 患者基本信息
- **groups**: 学习小组管理
- **vitals**: 生命体征数据
- **lab_results**: 实验室结果
- **medications**: 药物信息
- **soap_notes**: SOAP临床笔记
- **medical_orders**: 医疗医嘱

#### 扩展功能表 (Extended Tables)
- **data_versions**: 数据版本控制
- **group_accounts**: 分组账户管理
- **documents**: 文档管理
- **document_releases**: 文档发布调度
- **simulation_weeks**: 仿真周期管理
- **audit_logs**: 审计日志记录
- **assets**: 资产文件管理
- **asset_group_visibility**: 资产可见性控制

## 核心功能详解 (Core Features)

### 1. 数据版本控制系统
该系统允许为不同的学习小组创建独立的患者数据版本，确保各组之间的数据隔离和个性化学习体验。

**特性**:
- 为每个学习小组创建独立的数据集
- 支持数据版本的创建、修改和删除
- 灵活的数据分配和权限控制
- 跨版本数据对比和分析

### 2. 文档管理和发布系统
协调员可以上传各类医疗文档，并安排它们在特定时间发布给特定的学习小组。

**支持的文档类型**:
- 入院记录 (admission)
- 影像检查 (imaging)
- 实验室报告 (lab)
- 护理记录 (nursing)
- 其他医疗文档 (other)

**发布机制**:
- 手动发布 (manual): 协调员手动触发
- 定时发布 (scheduled): 按预设时间自动发布
- 条件发布 (conditional): 基于特定条件触发

### 3. 实时仿真控制
教师可以实时控制患者的状态，模拟真实的临床环境变化。

**控制要素**:
- 生命体征（心率、血压、呼吸、体温）
- 意识状态和神经系统评估
- 实验室结果和检查报告
- 症状变化和并发症模拟

### 4. 权限和安全管理
完整的基于角色的访问控制系统，确保数据安全和用户权限的精确管理。

**安全特性**:
- 基于角色的权限控制
- 会话管理和身份验证
- 数据访问审计跟踪
- 跨组数据隔离保护

## 使用指南 (User Guide)

### 系统访问
1. 打开浏览器访问平台首页
2. 选择对应的用户角色登录
3. 使用提供的测试凭据或联系管理员获取账户

### 管理员操作流程
1. **创建用户账户**:
   - 进入"用户管理"标签
   - 点击"创建新用户"
   - 填写用户信息并选择角色
   - 保存并分配初始权限

2. **设置数据版本**:
   - 进入"数据版本"标签
   - 创建新的数据版本
   - 为特定组别分配患者数据
   - 设置版本的有效期和权限

3. **管理分组账户**:
   - 进入"分组账户"标签
   - 创建新的分组账户
   - 设置分组权限和访问范围
   - 激活或停用分组账户

### 协调员操作流程
1. **上传文档**:
   - 进入"文档管理"标签
   - 选择要上传的文件
   - 设置文档类别和关联患者
   - 确认上传并验证文档信息

2. **安排发布**:
   - 进入"发布调度"标签
   - 选择要发布的文档
   - 设置目标组别和发布时间
   - 确认调度计划

3. **管理仿真周期**:
   - 进入"仿真时间线"标签
   - 创建新的仿真周期
   - 设置开始和结束时间
   - 激活当前仿真周期

### 教师操作流程
1. **控制患者状态**:
   - 选择要控制的患者
   - 在右侧控制面板调整生命体征
   - 实时观察学生的反应
   - 根据需要模拟病情变化

2. **管理实验室结果**:
   - 进入实验室结果页面
   - 选择要发布的结果
   - 设置发布时间或立即发布
   - 观察学生的临床分析

### 学生操作流程
1. **患者评估**:
   - 查看患者基本信息
   - 监控生命体征变化
   - 查看可用的检查结果
   - 分析症状和体征

2. **编写SOAP笔记**:
   - 记录主观资料 (Subjective)
   - 描述客观发现 (Objective)
   - 分析临床评估 (Assessment)
   - 制定治疗计划 (Plan)

3. **下达医嘱**:
   - 开具药物医嘱
   - 安排检查项目
   - 制定治疗方案
   - 跟踪医嘱执行

## 最佳实践 (Best Practices)

### 管理员最佳实践
- 定期备份用户数据和系统配置
- 定期审查用户权限和访问记录
- 保持数据版本的清晰命名和文档记录
- 监控系统性能和用户活动

### 协调员最佳实践
- 提前准备和上传所有必要的医疗文档
- 合理安排文档发布时间，配合教学进度
- 定期检查文档链接和内容的准确性
- 与教师密切协作，确保仿真流程顺畅

### 教师最佳实践
- 提前熟悉患者案例和控制界面
- 根据学生表现适时调整仿真难度
- 记录学生的表现和需要改进的地方
- 在仿真结束后提供详细反馈

### 学生最佳实践
- 仔细阅读患者信息和可用资料
- 遵循临床思维流程进行评估
- 详细记录观察结果和分析过程
- 积极参与小组讨论和案例分析

## 故障排除 (Troubleshooting)

### 常见问题解决
1. **登录问题**:
   - 检查用户名和密码是否正确
   - 确认账户是否被激活
   - 联系管理员重置密码

2. **文档无法加载**:
   - 检查网络连接状态
   - 确认文档是否已被发布
   - 验证用户权限设置

3. **数据不同步**:
   - 刷新页面或重新登录
   - 检查数据库连接状态
   - 联系技术支持

### 技术支持联系
- 系统管理问题：联系系统管理员
- 教学内容问题：联系教务部门
- 技术故障报告：联系IT支持团队

## 系统维护 (System Maintenance)

### 定期维护任务
- 数据库备份和恢复测试
- 系统性能监控和优化
- 安全补丁和更新应用
- 用户反馈收集和功能改进

### 更新日志 (Update Log)
- **当前版本**: v1.0
- **主要功能**: 四角色权限系统、数据版本控制、文档管理、实时仿真控制
- **下次更新预计**: 添加更多仿真场景和高级分析功能

---

该平台为医疗教育提供了完整的数字化仿真环境，通过多角色协作和真实的临床场景模拟，有效提升学生的临床思维能力和实践技能。